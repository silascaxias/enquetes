{"ast":null,"code":"var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var React=_interopRequireWildcard(require(\"react\"));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var PortalConsumer=function(_React$Component){(0,_inherits2.default)(PortalConsumer,_React$Component);var _super=_createSuper(PortalConsumer);function PortalConsumer(){var _this;(0,_classCallCheck2.default)(this,PortalConsumer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_defineProperty((0,_assertThisInitialized2.default)(_this),\"key\",void 0);return _this;}(0,_createClass2.default)(PortalConsumer,[{key:\"componentDidMount\",value:function componentDidMount(){return _regenerator.default.async(function componentDidMount$(_context){while(1){switch(_context.prev=_context.next){case 0:this.checkManager();_context.next=3;return _regenerator.default.awrap(Promise.resolve());case 3:this.key=this.props.manager.mount(this.props.children);case 4:case\"end\":return _context.stop();}}},null,this,null,Promise);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.checkManager();this.props.manager.update(this.key,this.props.children);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.checkManager();this.props.manager.unmount(this.key);}},{key:\"checkManager\",value:function checkManager(){if(!this.props.manager){throw new Error('Looks like you forgot to wrap your root component with `Provider` component from `react-native-paper`.\\n\\n'+\"Please read our getting-started guide and make sure you've followed all the required steps.\\n\\n\"+'https://callstack.github.io/react-native-paper/getting-started.html');}}},{key:\"render\",value:function render(){return null;}}]);return PortalConsumer;}(React.Component);exports.default=PortalConsumer;","map":{"version":3,"sources":["PortalConsumer.tsx"],"names":["React","Promise"],"mappings":"64BAAA,oD,44BAQe,CAAA,c,4HAAoD,yBAAA,2FAAA,IAAA,0CAAA,IAAA,wBAAA,6CAAA,IAAA,GAAA,eAAA,4CAAA,KAAA,CAAA,IAAA,EAAA,CAAA,CAAA,aAAA,C,kOAE/D,KADwB,YACxB,G,kDAGMC,OAAO,CAAb,OAAMA,E,SAEN,KAAA,GAAA,CAAW,KAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAyB,KAAA,KAAA,CAApC,QAAW,CAAX,C,oIAGmB,CACnB,KAAA,YAAA,GAEA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAA0B,KAA1B,GAAA,CAAoC,KAAA,KAAA,CAApC,QAAA,EACD,C,mEAEsB,CACrB,KAAA,YAAA,GAEA,KAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAA2B,KAA3B,GAAA,EACD,C,mDAIsB,CACrB,GAAI,CAAC,KAAA,KAAA,CAAL,OAAA,CAAyB,CACvB,KAAM,IAAA,CAAA,KAAA,CACJ,6GAAA,iGAAA,CADF,qEAAM,CAAN,CAKD,CACF,C,uCAEQ,CACP,MAAA,KAAA,CACD,C,4BApCyCD,KAAK,CAAlC,S","sourcesContent":["import * as React from 'react';\nimport type { PortalMethods } from './PortalHost';\n\ntype Props = {\n  manager: PortalMethods;\n  children: React.ReactNode;\n};\n\nexport default class PortalConsumer extends React.Component<Props> {\n  async componentDidMount() {\n    this.checkManager();\n\n    // Delay updating to prevent React from going to infinite loop\n    await Promise.resolve();\n\n    this.key = this.props.manager.mount(this.props.children);\n  }\n\n  componentDidUpdate() {\n    this.checkManager();\n\n    this.props.manager.update(this.key, this.props.children);\n  }\n\n  componentWillUnmount() {\n    this.checkManager();\n\n    this.props.manager.unmount(this.key);\n  }\n\n  private key: any;\n\n  private checkManager() {\n    if (!this.props.manager) {\n      throw new Error(\n        'Looks like you forgot to wrap your root component with `Provider` component from `react-native-paper`.\\n\\n' +\n          \"Please read our getting-started guide and make sure you've followed all the required steps.\\n\\n\" +\n          'https://callstack.github.io/react-native-paper/getting-started.html'\n      );\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}