{"ast":null,"code":"var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _GestureHandler=require(\"./GestureHandler\");function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var DRAG_TOSS=0.05;var Swipeable=function(_Component){(0,_inherits2.default)(Swipeable,_Component);var _super=_createSuper(Swipeable);function Swipeable(_props){var _this;(0,_classCallCheck2.default)(this,Swipeable);_this=_super.call(this,_props);_this._updateAnimatedEvent=function(props,state){var friction=props.friction,overshootFriction=props.overshootFriction,useNativeAnimations=props.useNativeAnimations;var dragX=state.dragX,rowTranslation=state.rowTranslation,_state$leftWidth=state.leftWidth,leftWidth=_state$leftWidth===void 0?0:_state$leftWidth,_state$rowWidth=state.rowWidth,rowWidth=_state$rowWidth===void 0?0:_state$rowWidth;var _state$rightOffset=state.rightOffset,rightOffset=_state$rightOffset===void 0?rowWidth:_state$rightOffset;var rightWidth=Math.max(0,rowWidth-rightOffset);var _props$overshootLeft=props.overshootLeft,overshootLeft=_props$overshootLeft===void 0?leftWidth>0:_props$overshootLeft,_props$overshootRight=props.overshootRight,overshootRight=_props$overshootRight===void 0?rightWidth>0:_props$overshootRight;var transX=_reactNative.Animated.add(rowTranslation,dragX.interpolate({inputRange:[0,friction],outputRange:[0,1]})).interpolate({inputRange:[-rightWidth-(overshootRight?1:overshootFriction),-rightWidth,leftWidth,leftWidth+(overshootLeft?1:overshootFriction)],outputRange:[-rightWidth-(overshootRight||overshootFriction>1?1:0),-rightWidth,leftWidth,leftWidth+(overshootLeft||overshootFriction>1?1:0)]});_this._transX=transX;_this._showLeftAction=leftWidth>0?transX.interpolate({inputRange:[-1,0,leftWidth],outputRange:[0,0,1]}):new _reactNative.Animated.Value(0);_this._leftActionTranslate=_this._showLeftAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-10000,0],extrapolate:'clamp'});_this._showRightAction=rightWidth>0?transX.interpolate({inputRange:[-rightWidth,0,1],outputRange:[1,0,0]}):new _reactNative.Animated.Value(0);_this._rightActionTranslate=_this._showRightAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-10000,0],extrapolate:'clamp'});};_this._onTapHandlerStateChange=function(_ref){var nativeEvent=_ref.nativeEvent;if(nativeEvent.oldState===_GestureHandler.State.ACTIVE){_this.close();}};_this._onHandlerStateChange=function(_ref2){var nativeEvent=_ref2.nativeEvent;if(nativeEvent.oldState===_GestureHandler.State.ACTIVE){_this._handleRelease(nativeEvent);}};_this._handleRelease=function(nativeEvent){var velocityX=nativeEvent.velocityX,dragX=nativeEvent.translationX;var _this$state=_this.state,_this$state$leftWidth=_this$state.leftWidth,leftWidth=_this$state$leftWidth===void 0?0:_this$state$leftWidth,_this$state$rowWidth=_this$state.rowWidth,rowWidth=_this$state$rowWidth===void 0?0:_this$state$rowWidth,rowState=_this$state.rowState;var _this$state$rightOffs=_this.state.rightOffset,rightOffset=_this$state$rightOffs===void 0?rowWidth:_this$state$rightOffs;var rightWidth=rowWidth-rightOffset;var _this$props=_this.props,friction=_this$props.friction,_this$props$leftThres=_this$props.leftThreshold,leftThreshold=_this$props$leftThres===void 0?leftWidth/2:_this$props$leftThres,_this$props$rightThre=_this$props.rightThreshold,rightThreshold=_this$props$rightThre===void 0?rightWidth/2:_this$props$rightThre;var startOffsetX=_this._currentOffset()+dragX/friction;var translationX=(dragX+DRAG_TOSS*velocityX)/friction;var toValue=0;if(rowState===0){if(translationX>leftThreshold){toValue=leftWidth;}else if(translationX<-rightThreshold){toValue=-rightWidth;}}else if(rowState===1){if(translationX>-leftThreshold){toValue=leftWidth;}}else{if(translationX<rightThreshold){toValue=-rightWidth;}}_this._animateRow(startOffsetX,toValue,velocityX/friction);};_this._animateRow=function(fromValue,toValue,velocityX){var _this$state2=_this.state,dragX=_this$state2.dragX,rowTranslation=_this$state2.rowTranslation;dragX.setValue(0);rowTranslation.setValue(fromValue);_this.setState({rowState:Math.sign(toValue)});_reactNative.Animated.spring(rowTranslation,(0,_extends2.default)({restSpeedThreshold:1.7,restDisplacementThreshold:0.4,velocity:velocityX,bounciness:0,toValue:toValue,useNativeDriver:_this.props.useNativeAnimations},_this.props.animationOptions)).start(function(_ref3){var finished=_ref3.finished;if(finished){if(toValue>0&&_this.props.onSwipeableLeftOpen){_this.props.onSwipeableLeftOpen();}else if(toValue<0&&_this.props.onSwipeableRightOpen){_this.props.onSwipeableRightOpen();}if(toValue===0){_this.props.onSwipeableClose&&_this.props.onSwipeableClose();}else{_this.props.onSwipeableOpen&&_this.props.onSwipeableOpen();}}});if(toValue>0&&_this.props.onSwipeableLeftWillOpen){_this.props.onSwipeableLeftWillOpen();}else if(toValue<0&&_this.props.onSwipeableRightWillOpen){_this.props.onSwipeableRightWillOpen();}if(toValue===0){_this.props.onSwipeableWillClose&&_this.props.onSwipeableWillClose();}else{_this.props.onSwipeableWillOpen&&_this.props.onSwipeableWillOpen();}};_this._onRowLayout=function(_ref4){var nativeEvent=_ref4.nativeEvent;_this.setState({rowWidth:nativeEvent.layout.width});};_this._currentOffset=function(){var _this$state3=_this.state,_this$state3$leftWidt=_this$state3.leftWidth,leftWidth=_this$state3$leftWidt===void 0?0:_this$state3$leftWidt,_this$state3$rowWidth=_this$state3.rowWidth,rowWidth=_this$state3$rowWidth===void 0?0:_this$state3$rowWidth,rowState=_this$state3.rowState;var _this$state$rightOffs2=_this.state.rightOffset,rightOffset=_this$state$rightOffs2===void 0?rowWidth:_this$state$rightOffs2;var rightWidth=rowWidth-rightOffset;if(rowState===1){return leftWidth;}else if(rowState===-1){return-rightWidth;}return 0;};_this.close=function(){_this._animateRow(_this._currentOffset(),0);};_this.openLeft=function(){var _this$state$leftWidth2=_this.state.leftWidth,leftWidth=_this$state$leftWidth2===void 0?0:_this$state$leftWidth2;_this._animateRow(_this._currentOffset(),leftWidth);};_this.openRight=function(){var _this$state$rowWidth2=_this.state.rowWidth,rowWidth=_this$state$rowWidth2===void 0?0:_this$state$rowWidth2;var _this$state$rightOffs3=_this.state.rightOffset,rightOffset=_this$state$rightOffs3===void 0?rowWidth:_this$state$rightOffs3;var rightWidth=rowWidth-rightOffset;_this._animateRow(_this._currentOffset(),-rightWidth);};var _dragX=new _reactNative.Animated.Value(0);_this.state={dragX:_dragX,rowTranslation:new _reactNative.Animated.Value(0),rowState:0,leftWidth:undefined,rightOffset:undefined,rowWidth:undefined};_this._updateAnimatedEvent(_props,_this.state);_this._onGestureEvent=_reactNative.Animated.event([{nativeEvent:{translationX:_dragX}}],{useNativeDriver:_props.useNativeAnimations});return _this;}(0,_createClass2.default)(Swipeable,[{key:\"UNSAFE_componentWillUpdate\",value:function UNSAFE_componentWillUpdate(props,state){if(this.props.friction!==props.friction||this.props.overshootLeft!==props.overshootLeft||this.props.overshootRight!==props.overshootRight||this.props.overshootFriction!==props.overshootFriction||this.state.leftWidth!==state.leftWidth||this.state.rightOffset!==state.rightOffset||this.state.rowWidth!==state.rowWidth){this._updateAnimatedEvent(props,state);}}},{key:\"render\",value:function render(){var _this2=this;var rowState=this.state.rowState;var _this$props2=this.props,children=_this$props2.children,renderLeftActions=_this$props2.renderLeftActions,renderRightActions=_this$props2.renderRightActions;var left=renderLeftActions&&_react.default.createElement(_reactNative.Animated.View,{style:[styles.leftActions,{transform:[{translateX:this._leftActionTranslate}]}]},renderLeftActions(this._showLeftAction,this._transX),_react.default.createElement(_reactNative.View,{onLayout:function onLayout(_ref5){var nativeEvent=_ref5.nativeEvent;return _this2.setState({leftWidth:nativeEvent.layout.x});}}));var right=renderRightActions&&_react.default.createElement(_reactNative.Animated.View,{style:[styles.rightActions,{transform:[{translateX:this._rightActionTranslate}]}]},renderRightActions(this._showRightAction,this._transX),_react.default.createElement(_reactNative.View,{onLayout:function onLayout(_ref6){var nativeEvent=_ref6.nativeEvent;return _this2.setState({rightOffset:nativeEvent.layout.x});}}));return _react.default.createElement(_GestureHandler.PanGestureHandler,(0,_extends2.default)({activeOffsetX:[-10,10]},this.props,{onGestureEvent:this._onGestureEvent,onHandlerStateChange:this._onHandlerStateChange}),_react.default.createElement(_reactNative.Animated.View,{onLayout:this._onRowLayout,style:[styles.container,this.props.containerStyle]},left,right,_react.default.createElement(_GestureHandler.TapGestureHandler,{enabled:rowState!==0,onHandlerStateChange:this._onTapHandlerStateChange},_react.default.createElement(_reactNative.Animated.View,{pointerEvents:rowState===0?'auto':'box-only',style:[{transform:[{translateX:this._transX}]},this.props.childrenContainerStyle]},children))));}}]);return Swipeable;}(_react.Component);exports.default=Swipeable;Swipeable.defaultProps={friction:1,overshootFriction:1,useNativeAnimations:true};var styles=_reactNative.StyleSheet.create({container:{overflow:'hidden'},leftActions:(0,_extends2.default)({},_reactNative.StyleSheet.absoluteFillObject,{flexDirection:_reactNative.I18nManager.isRTL?'row-reverse':'row'}),rightActions:(0,_extends2.default)({},_reactNative.StyleSheet.absoluteFillObject,{flexDirection:_reactNative.I18nManager.isRTL?'row':'row-reverse'})});","map":{"version":3,"sources":["/Users/scaxias/Projetos/Estudos/Enquetes/node_modules/react-native-gesture-handler/Swipeable.js"],"names":["DRAG_TOSS","Swipeable","props","_updateAnimatedEvent","state","friction","overshootFriction","useNativeAnimations","dragX","rowTranslation","leftWidth","rowWidth","rightOffset","rightWidth","Math","max","overshootLeft","overshootRight","transX","Animated","add","interpolate","inputRange","outputRange","_transX","_showLeftAction","Value","_leftActionTranslate","Number","MIN_VALUE","extrapolate","_showRightAction","_rightActionTranslate","_onTapHandlerStateChange","nativeEvent","oldState","State","ACTIVE","close","_onHandlerStateChange","_handleRelease","velocityX","translationX","rowState","leftThreshold","rightThreshold","startOffsetX","_currentOffset","toValue","_animateRow","fromValue","setValue","setState","sign","spring","restSpeedThreshold","restDisplacementThreshold","velocity","bounciness","useNativeDriver","animationOptions","start","finished","onSwipeableLeftOpen","onSwipeableRightOpen","onSwipeableClose","onSwipeableOpen","onSwipeableLeftWillOpen","onSwipeableRightWillOpen","onSwipeableWillClose","onSwipeableWillOpen","_onRowLayout","layout","width","openLeft","openRight","undefined","_onGestureEvent","event","children","renderLeftActions","renderRightActions","left","styles","leftActions","transform","translateX","x","right","rightActions","container","containerStyle","childrenContainerStyle","Component","defaultProps","StyleSheet","create","overflow","absoluteFillObject","flexDirection","I18nManager","isRTL"],"mappings":"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","sourcesContent":["// @flow\n\n// Similarily to the DrawerLayout component this deserves to be put in a\n// separate repo. Although, keeping it here for the time being will allow us\n// to move faster and fix possible issues quicker\n\nimport React, { Component } from 'react';\nimport { Animated, StyleSheet, View, I18nManager } from 'react-native';\n\nimport { PanGestureHandler, TapGestureHandler, State } from './GestureHandler';\n\nconst DRAG_TOSS = 0.05;\n\nexport type PropType = {\n  children: any,\n  friction: number,\n  leftThreshold?: number,\n  rightThreshold?: number,\n  overshootLeft?: boolean,\n  overshootRight?: boolean,\n  overshootFriction: number,\n  onSwipeableLeftOpen?: Function,\n  onSwipeableRightOpen?: Function,\n  onSwipeableOpen?: Function,\n  onSwipeableClose?: Function,\n  onSwipeableLeftWillOpen?: Function,\n  onSwipeableRightWillOpen?: Function,\n  onSwipeableWillOpen?: Function,\n  onSwipeableWillClose?: Function,\n  renderLeftActions?: (\n    progressAnimatedValue: any,\n    dragAnimatedValue: any\n  ) => any,\n  renderRightActions?: (\n    progressAnimatedValue: any,\n    dragAnimatedValue: any\n  ) => any,\n  useNativeAnimations: boolean,\n  animationOptions?: Object,\n  containerStyle?: Object,\n  childrenContainerStyle?: Object,\n};\ntype StateType = {\n  dragX: Animated.Value,\n  rowTranslation: Animated.Value,\n  rowState: number,\n  leftWidth: number | typeof undefined,\n  rightOffset: number | typeof undefined,\n  rowWidth: number | typeof undefined,\n};\n\nexport default class Swipeable extends Component<PropType, StateType> {\n  static defaultProps = {\n    friction: 1,\n    overshootFriction: 1,\n    useNativeAnimations: true,\n  };\n  _onGestureEvent: ?Animated.Event;\n  _transX: ?Animated.Interpolation;\n  _showLeftAction: ?Animated.Interpolation | ?Animated.Value;\n  _leftActionTranslate: ?Animated.Interpolation;\n  _showRightAction: ?Animated.Interpolation | ?Animated.Value;\n  _rightActionTranslate: ?Animated.Interpolation;\n\n  constructor(props: PropType) {\n    super(props);\n    const dragX = new Animated.Value(0);\n    this.state = {\n      dragX,\n      rowTranslation: new Animated.Value(0),\n      rowState: 0,\n      leftWidth: undefined,\n      rightOffset: undefined,\n      rowWidth: undefined,\n    };\n    this._updateAnimatedEvent(props, this.state);\n\n    this._onGestureEvent = Animated.event(\n      [{ nativeEvent: { translationX: dragX } }],\n      { useNativeDriver: props.useNativeAnimations }\n    );\n  }\n\n  UNSAFE_componentWillUpdate(props: PropType, state: StateType) {\n    if (\n      this.props.friction !== props.friction ||\n      this.props.overshootLeft !== props.overshootLeft ||\n      this.props.overshootRight !== props.overshootRight ||\n      this.props.overshootFriction !== props.overshootFriction ||\n      this.state.leftWidth !== state.leftWidth ||\n      this.state.rightOffset !== state.rightOffset ||\n      this.state.rowWidth !== state.rowWidth\n    ) {\n      this._updateAnimatedEvent(props, state);\n    }\n  }\n\n  _updateAnimatedEvent = (props: PropType, state: StateType) => {\n    const { friction, overshootFriction, useNativeAnimations } = props;\n    const { dragX, rowTranslation, leftWidth = 0, rowWidth = 0 } = state;\n    const { rightOffset = rowWidth } = state;\n    const rightWidth = Math.max(0, rowWidth - rightOffset);\n\n    const {\n      overshootLeft = leftWidth > 0,\n      overshootRight = rightWidth > 0,\n    } = props;\n\n    const transX = Animated.add(\n      rowTranslation,\n      dragX.interpolate({\n        inputRange: [0, friction],\n        outputRange: [0, 1],\n      })\n    ).interpolate({\n      inputRange: [\n        -rightWidth - (overshootRight ? 1 : overshootFriction),\n        -rightWidth,\n        leftWidth,\n        leftWidth + (overshootLeft ? 1 : overshootFriction),\n      ],\n      outputRange: [\n        -rightWidth - (overshootRight || overshootFriction > 1 ? 1 : 0),\n        -rightWidth,\n        leftWidth,\n        leftWidth + (overshootLeft || overshootFriction > 1 ? 1 : 0),\n      ],\n    });\n    this._transX = transX;\n    this._showLeftAction =\n      leftWidth > 0\n        ? transX.interpolate({\n            inputRange: [-1, 0, leftWidth],\n            outputRange: [0, 0, 1],\n          })\n        : new Animated.Value(0);\n    this._leftActionTranslate = this._showLeftAction.interpolate({\n      inputRange: [0, Number.MIN_VALUE],\n      outputRange: [-10000, 0],\n      extrapolate: 'clamp',\n    });\n    this._showRightAction =\n      rightWidth > 0\n        ? transX.interpolate({\n            inputRange: [-rightWidth, 0, 1],\n            outputRange: [1, 0, 0],\n          })\n        : new Animated.Value(0);\n    this._rightActionTranslate = this._showRightAction.interpolate({\n      inputRange: [0, Number.MIN_VALUE],\n      outputRange: [-10000, 0],\n      extrapolate: 'clamp',\n    });\n  };\n\n  _onTapHandlerStateChange = ({ nativeEvent }) => {\n    if (nativeEvent.oldState === State.ACTIVE) {\n      this.close();\n    }\n  };\n\n  _onHandlerStateChange = ({ nativeEvent }) => {\n    if (nativeEvent.oldState === State.ACTIVE) {\n      this._handleRelease(nativeEvent);\n    }\n  };\n\n  _handleRelease = nativeEvent => {\n    const { velocityX, translationX: dragX } = nativeEvent;\n    const { leftWidth = 0, rowWidth = 0, rowState } = this.state;\n    const { rightOffset = rowWidth } = this.state;\n    const rightWidth = rowWidth - rightOffset;\n    const {\n      friction,\n      leftThreshold = leftWidth / 2,\n      rightThreshold = rightWidth / 2,\n    } = this.props;\n\n    const startOffsetX = this._currentOffset() + dragX / friction;\n    const translationX = (dragX + DRAG_TOSS * velocityX) / friction;\n\n    let toValue = 0;\n    if (rowState === 0) {\n      if (translationX > leftThreshold) {\n        toValue = leftWidth;\n      } else if (translationX < -rightThreshold) {\n        toValue = -rightWidth;\n      }\n    } else if (rowState === 1) {\n      // swiped to left\n      if (translationX > -leftThreshold) {\n        toValue = leftWidth;\n      }\n    } else {\n      // swiped to right\n      if (translationX < rightThreshold) {\n        toValue = -rightWidth;\n      }\n    }\n\n    this._animateRow(startOffsetX, toValue, velocityX / friction);\n  };\n\n  _animateRow = (fromValue, toValue, velocityX) => {\n    const { dragX, rowTranslation } = this.state;\n    dragX.setValue(0);\n    rowTranslation.setValue(fromValue);\n\n    this.setState({ rowState: Math.sign(toValue) });\n    Animated.spring(rowTranslation, {\n      restSpeedThreshold: 1.7,\n      restDisplacementThreshold: 0.4,\n      velocity: velocityX,\n      bounciness: 0,\n      toValue,\n      useNativeDriver: this.props.useNativeAnimations,\n      ...this.props.animationOptions,\n    }).start(({ finished }) => {\n      if (finished) {\n        if (toValue > 0 && this.props.onSwipeableLeftOpen) {\n          this.props.onSwipeableLeftOpen();\n        } else if (toValue < 0 && this.props.onSwipeableRightOpen) {\n          this.props.onSwipeableRightOpen();\n        }\n\n        if (toValue === 0) {\n          this.props.onSwipeableClose && this.props.onSwipeableClose();\n        } else {\n          this.props.onSwipeableOpen && this.props.onSwipeableOpen();\n        }\n      }\n    });\n    if (toValue > 0 && this.props.onSwipeableLeftWillOpen) {\n      this.props.onSwipeableLeftWillOpen();\n    } else if (toValue < 0 && this.props.onSwipeableRightWillOpen) {\n      this.props.onSwipeableRightWillOpen();\n    }\n\n    if (toValue === 0) {\n      this.props.onSwipeableWillClose && this.props.onSwipeableWillClose();\n    } else {\n      this.props.onSwipeableWillOpen && this.props.onSwipeableWillOpen();\n    }\n  };\n\n  _onRowLayout = ({ nativeEvent }) => {\n    this.setState({ rowWidth: nativeEvent.layout.width });\n  };\n\n  _currentOffset = () => {\n    const { leftWidth = 0, rowWidth = 0, rowState } = this.state;\n    const { rightOffset = rowWidth } = this.state;\n    const rightWidth = rowWidth - rightOffset;\n    if (rowState === 1) {\n      return leftWidth;\n    } else if (rowState === -1) {\n      return -rightWidth;\n    }\n    return 0;\n  };\n\n  close = () => {\n    this._animateRow(this._currentOffset(), 0);\n  };\n\n  openLeft = () => {\n    const { leftWidth = 0 } = this.state;\n    this._animateRow(this._currentOffset(), leftWidth);\n  };\n\n  openRight = () => {\n    const { rowWidth = 0 } = this.state;\n    const { rightOffset = rowWidth } = this.state;\n    const rightWidth = rowWidth - rightOffset;\n    this._animateRow(this._currentOffset(), -rightWidth);\n  };\n\n  render() {\n    const { rowState } = this.state;\n    const { children, renderLeftActions, renderRightActions } = this.props;\n\n    const left = renderLeftActions && (\n      <Animated.View\n        style={[\n          styles.leftActions,\n          { transform: [{ translateX: this._leftActionTranslate }] },\n        ]}>\n        {renderLeftActions(this._showLeftAction, this._transX)}\n        <View\n          onLayout={({ nativeEvent }) =>\n            this.setState({ leftWidth: nativeEvent.layout.x })\n          }\n        />\n      </Animated.View>\n    );\n\n    const right = renderRightActions && (\n      <Animated.View\n        style={[\n          styles.rightActions,\n          { transform: [{ translateX: this._rightActionTranslate }] },\n        ]}>\n        {renderRightActions(this._showRightAction, this._transX)}\n        <View\n          onLayout={({ nativeEvent }) =>\n            this.setState({ rightOffset: nativeEvent.layout.x })\n          }\n        />\n      </Animated.View>\n    );\n\n    return (\n      <PanGestureHandler\n        activeOffsetX={[-10, 10]}\n        {...this.props}\n        onGestureEvent={this._onGestureEvent}\n        onHandlerStateChange={this._onHandlerStateChange}>\n        <Animated.View\n          onLayout={this._onRowLayout}\n          style={[styles.container, this.props.containerStyle]}>\n          {left}\n          {right}\n          <TapGestureHandler\n            enabled={rowState !== 0}\n            onHandlerStateChange={this._onTapHandlerStateChange}>\n            <Animated.View\n              pointerEvents={rowState === 0 ? 'auto' : 'box-only'}\n              style={[\n                {\n                  transform: [{ translateX: this._transX }],\n                },\n                this.props.childrenContainerStyle,\n              ]}>\n              {children}\n            </Animated.View>\n          </TapGestureHandler>\n        </Animated.View>\n      </PanGestureHandler>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden',\n  },\n  leftActions: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: I18nManager.isRTL? 'row-reverse': 'row',\n  },\n  rightActions: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: I18nManager.isRTL ? 'row' : 'row-reverse',\n  },\n});\n"]},"metadata":{},"sourceType":"script"}